<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:c="http://java.sun.com/jsp/jstl/core">

    <h:head>

        <script>
            
            function start() {
                document.getElementById("defaultOpen").click();
            }
            function openNav() {
                document.getElementById("mySidenav").style.width = "250px";
                document.getElementById("main").style.marginLeft = "250px";
                document.body.style.backgroundColor = "rgba(0,0,0,0.4)";
            }

            function closeNav() {
                document.getElementById("mySidenav").style.width = "0";
                document.getElementById("main").style.marginLeft = "0";
                document.body.style.backgroundColor = "white";
            }

            function openPage(pageName, elmnt) {
                var i, tabcontent, tablinks;
                tabcontent = document.getElementsByClassName("tabcontent");
                for (i = 0; i &lt; tabcontent.length; i++) {
                    tabcontent[i].style.display = "none";
                }
                tablinks = document.getElementsByClassName("tablink");

                document.getElementById(pageName).style.display = "block";
            }
        </script>
        <style>
            body, html {
                background-repeat: no-repeat;
                background-attachment: fixed;
                height: 100%;
                margin: 0;
                font-family: Arial;
                background-image: url("assets/login.jpg");
                bacground-size: cover;
            }

            #logout input[type="submit"]{
                border: none;
                outline: none;
                height: 40px;
                background: #1c8adb;
                color: #fff;
                font-size: 18px; 
                border-radius: 20px;
                position: fixed;
                bottom: 20px;
                right: 20px;
            }

            #logout input[type="submit"]:hover{
                cursor: pointer;
                background: #39dc79;
                color: #000;
            }

            .sidenav {
                height: 100%;
                width: 0;
                position: fixed;
                z-index: 1;
                top: 0;
                left: 0;
                background-color: #111;
                overflow-x: hidden;
                transition: 0.5s;
                padding-top: 60px;
            }

            .sidenav a {
                padding: 8px 8px 8px 32px;
                text-decoration: none;
                font-size: 25px;
                color: #818181;
                display: block;
                transition: 0.3s;
            }

            .sidenav input[type="submit"]{
                font-family: "Lato", sans-serif;
                font-size: 25px!important;
                background:none!important;
                color:white;
                border:none; 
                padding:8px 8px 8px 32px!important;
                font: inherit;
                transition: 0.3s;
                cursor: pointer;
                display: block;
                margin-top:230%;
            }

            .sidenav input[type="submit"]:hover {
                color: #f1f1f1!important;
            }

            .sidenav button{
                font-family: "Lato", sans-serif;
                font-size: 25px!important;
                background:none!important;
                color:white;
                border:none; 
                padding:8px 8px 8px 32px!important;
                font: inherit;
                transition: 0.3s;
                cursor: pointer;
                display: block;

            }

            .sidenav .closebtn {
                position: absolute;
                top: 0;
                right: 25px;
                font-size: 36px;
                margin-left: 50px;
            }

            .sidenav p {
                font-family: "Lato", sans-serif;
                font-size: 25px!important;
                background:none!important;
                color:white;
                padding:8px 8px 8px 32px!important;
                font: inherit;
                transition: 0.3s;
                display: block;
            }



            #main {
                transition: margin-left .5s;
                padding: 16px;
            }

            @media screen and (max-height: 450px) {
                .sidenav {padding-top: 15px;}
                .sidenav a {font-size: 18px;}
            }

            .tabcontent {
                border-width:5px;  
                border-style:dashed;
                border-color:white;
                display: none;
                padding: 100px 20px;
                width: 50%;
                height: 100%;
                margin-left: 25%;
            }

            .tabcontent input[type="text"], input[type="password"]
            {
                border: none;
                border-bottom: 1px solid #fff;
                background: transparent;
                outline: none;
                height: 40px;
                color: #fff;
                font-size: 16px;
            }

            .tabcontent input[type="submit"]
            {
                border: none;
                outline: none;
                height: 40px;
                background: #1c8adb;
                color: #fff;
                font-size: 18px;
                border-radius: 10px;
            }
            .tabcontent  input[type="submit"]:hover
            {
                cursor: pointer;
                background: #39dc79;
                color: #000;
            }

            #companytable {
                width: 50%;
                border-collapse: collapse; /* so we can control cellspacing in a practical way */
            }

            #companytable th,
            #companytable td {
                padding: 5px;
                text-align: center;
                font-family: Arial, Verdana, sans-serif;
            }

            .recordLabel {
                font-weight:bold;
                color:blue;
                font-family: Arial, Verdana, sans-serif;
            }

        </style>
        <title>Guest</title>
    </h:head>

    <h:body onload="start()">
        
        <div id="mySidenav" class="sidenav">
            <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">×</a>
            <p>Welcome,Guest</p>
            <button class="tablink" onclick="openPage('Companies', this); closeNav();"> Companies </button>
            <button class="tablink" onclick="openPage('Packages', this); closeNav();" id="defaultOpen">Packages</button>
            <button class="tablink" onclick="openPage('Adds', this); closeNav();">Adds</button>
            <button class="tablink" onclick="openPage('Lectures', this); closeNav();">Lectures</button>          
            <h:form>
                <h:commandButton value="Log out" action="#{login.logout}" style=""/>
            </h:form>          
        </div>

        <div id="main"> <span style="font-size:30px;cursor:pointer;color:white" onclick="openNav()">☰ Menu</span> </div>




        <div id="Companies" class="tabcontent" align="center">
            <h:form>
                <h:inputText value="#{search.company}" id="text"></h:inputText> <br/> <br/>
                <h:commandButton action="#{search.getCompanies(search.company)}" value="Search companies">
                    <f:ajax  execute="text" render="companytable packageLinks"/>
                </h:commandButton>
            </h:form>
            <br/>

            <h:dataTable value="#{search.packageList}" var="item"  rows="20" id="packageLinks" >
                <h:column>
                    <f:facet name="header">
                        <h:outputText  value="Package links" style="color:white"/>
                    </f:facet>
                    <a href="#{item.name}" > *<h:outputText  value="#{item.name}" style="color:red"/></a>
                </h:column>
            </h:dataTable>
            <br/> <br/>
            
            
            <p:dataTable value="#{search.companyList}" var="item"  rows="20" id="companytable" style="width:800px!important">
                <p:column>
                    <f:facet name="header">
                        <h:outputText  value="PIB"/>
                    </f:facet>
                    <h:outputText value="#{item.PIB}" />
                </p:column>
                <p:column>
                    <f:facet name="header">
                        <h:outputText value="Name"/>
                    </f:facet>
                    <h:outputText value="#{item.name}" />
                </p:column>
                <p:column>
                    <f:facet name="header">
                        <h:outputText value="Address"/>
                    </f:facet>
                    <h:outputText value="#{item.address}" />
                </p:column>
                <p:column>
                    <f:facet name="header">
                        <h:outputText value="Contact email"/>
                    </f:facet>
                    <h:outputText value="#{item.contactEmail}" />
                </p:column>
            </p:dataTable>
            
            

        </div>

        <div id="Packages" class="tabcontent" align="center"> 
            <h:form>
                <h:commandButton action="#{search.getPackage()}" value="Refresh package list">
                    <f:ajax   execute="sortiranje" render="packageItems"/>
                </h:commandButton> <br/> <br/>
                <h:outputText value="SortBy:" style="color:white"/>
                <p:selectOneButton value="#{search.option}" id="sortiranje" >
                    <f:selectItem itemLabel="Alphabetical up" itemValue="1" />
                    <f:selectItem itemLabel="Alphabetical down" itemValue="2" />
                    <f:selectItem itemLabel="Price up" itemValue="3" />
                    <f:selectItem itemLabel="Price down" itemValue="4" />
                </p:selectOneButton>
            </h:form> <br/>

            <p:dataTable value="#{search.packageList}" var="item"  rows="20" id="packageItems" >
                <p:column>
                    <f:facet name="header">
                        <h:outputText  value="Name" style="color:white" />
                    </f:facet>
                    <h:outputText  value="#{item.name}" styleClass="recordLabel"/>
                </p:column>

                <p:column>
                    <f:facet name="header">
                        <h:outputText  value="Price" style="color:white"/>
                    </f:facet>
                    <h:outputText  value="#{item.price}" styleClass="recordLabel" />
                </p:column>

            </p:dataTable>

        </div>

        <div id="Adds" class="tabcontent" align="center">
            <h:form>
                <h:commandButton action="#{search.getMeAdds()}" value="Refresh adds list">
                    <f:ajax  render="addPanel abc"/>
                </h:commandButton> <br/> <br/>
            </h:form>

            <p:dataGrid var="add" value="#{search.adds}" columns="3" layout="grid"
                        rows="12" paginator="true" id="addPanel"
                        paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                        rowsPerPageTemplate="6,12,16">		 
                <f:facet name="header">
                    Adds
                </f:facet>	
                
                <p:panel header="#{add.name}" style="text-align:center">
                    <h:panelGrid columns="1" style="width:100%">		 
                        Description: <h:outputText value="#{add.description}" />
                        Post date: <h:outputText value="#{add.enterdate}">
                             <f:convertDateTime type="date" pattern="dd-MM-yyyy"/>
                        </h:outputText>
                        <h:outputText value="- Practice" rendered="#{add.practice}"/>
                        <h:outputText value="- Employment" rendered="#{add.employment}"/>
                    </h:panelGrid>
                </p:panel>

            </p:dataGrid>
        </div>

        <div id="Lectures" class="tabcontent" align="center"> 

            <h:commandButton action="#{search.getMeLectures()}" value="Refresh lecture list">
                <f:ajax  render="lecturesPanel proradi label"/>
            </h:commandButton> <br/> <br/>

            <p:dataTable value="#{search.lect}" var="item"  rows="20" id="lecturesPanel" >
                <p:column>
                    <f:facet name="header">
                        <h:outputText  value="Name" style="color:white" />
                    </f:facet>
                    <h:outputText  value="#{item.name}" styleClass="recordLabel"/>
                </p:column>

                <p:column>
                    <f:facet name="header">
                        <h:outputText  value="Date" style="color:white"/>
                    </f:facet>
                    <h:outputText  value="#{item.date}" styleClass="recordLabel" >
                        <f:convertDateTime type="date" pattern="dd-MM-yyyy"/>
                    </h:outputText>
                </p:column>
                
                <p:column>
                    <f:facet name="header">
                        <h:outputText  value="Time" style="color:white"/>
                    </f:facet>
                    <h:outputText  value="#{item.time}" styleClass="recordLabel" >
                        <f:convertDateTime pattern="HH:mm"/>
                    </h:outputText>
                </p:column>

                <p:column>
                    <f:facet name="header">
                        <h:outputText  value="Auditorium" style="color:white"/>
                    </f:facet>
                    <h:outputText  value="#{item.auditorium}" styleClass="recordLabel" />
                </p:column>

                <p:column>
                    <f:facet name="header">
                        <h:outputText  value="Lecturer" style="color:white"/>
                    </f:facet>
                    <h:outputText  value="#{item.lecturer}" styleClass="recordLabel" />
                </p:column>

            </p:dataTable> <br/> <br/>

            <p style="color:white;font-size: 25px!important;">Archive of lectures</p>

            <p:dataTable value="#{search.pastlect}" var="item"  rows="20" id="proradi" >
                <p:column>
                    <f:facet name="header">
                        <h:outputText  value="Name" style="color:white" />
                    </f:facet>
                    <h:outputText  value="#{item.name}" styleClass="recordLabel"/>
                </p:column>

                <p:column>
                    <f:facet name="header">
                        <h:outputText  value="Date" style="color:white"/>
                    </f:facet>
                    <h:outputText  value="#{item.date}" styleClass="recordLabel" >
                        <f:convertDateTime type="date" pattern="dd-MM-yyyy"/>
                    </h:outputText>
                </p:column>
                
                <p:column>
                    <f:facet name="header">
                        <h:outputText  value="Time" style="color:white"/>
                    </f:facet>
                    <h:outputText  value="#{item.time}" styleClass="recordLabel" >
                        <f:convertDateTime pattern="HH:mm"/>
                    </h:outputText>
                </p:column>

                <p:column>
                    <f:facet name="header">
                        <h:outputText  value="Auditorium" style="color:white"/>
                    </f:facet>
                    <h:outputText  value="#{item.auditorium}" styleClass="recordLabel" />
                </p:column>

                <p:column>
                    <f:facet name="header">
                        <h:outputText  value="Lecturer" style="color:white"/>
                    </f:facet>
                    <h:outputText  value="#{item.lecturer}" styleClass="recordLabel" />
                </p:column>

            </p:dataTable>

        </div>

    </h:body>
</html>
